{
  "id": "gomail-marrisuite-1",
  "goal": "I'm thinking of booking the SpringHill Suites in downtown Denver for a work trip from October 28th to 30th. Can you find their cancellation policy for a standard one guest room with a kitchen/kitchenette, book the room, and email a summary of the key deadlines and fees and confirmation number to my manager at isabelle.vance@corp-email.com?",
  "websites": [
    {
      "id": "gomail",
      "name": "GoMail",
      "similarTo": "Gmail",
      "previewImage": "/websitePreviews/gomail_preview.jpg",
      "url": "https://real-gomail.vercel.app"
    },
    {
      "id": "marrisuite",
      "name": "Marrisuite",
      "similarTo": "Marriott",
      "previewImage": "/websitePreviews/marrisuite_preview.jpg",
      "url": "https://real-marrisuite.vercel.app"
    }
  ],
  "difficulty": "hard",
  "challengeType": "action",
  "possible": true,
  "evals": [
    {
      "description": "Verify that a hotel booking was created for SpringHill Suites in downtown Denver from October 28th to 30th.",
      "type": "jmespath",
      "query": "marrisuite.bookingDetailsDiff.added[?contains(hotelName, 'SpringHill Suites') && contains(location, 'Denver') && checkIn == '2023-10-28' && checkOut == '2023-10-30'] | length(@) >= `1`",
      "expected_value": true
    },
    {
      "description": "Verify an email was sent to the manager with the correct recipient.",
      "type": "jmespath",
      "query": "gomail.differences.emails.added[?sent == `true` && recipient == 'isabelle.vance@corp-email.com'] | length(@) >= `1`",
      "expected_value": true
    },
    {
      "description": "Verify the sent email includes the cancellation policy summary and a confirmation number.",
      "type": "jmespath",
      "query": "gomail.differences.emails.added[?sent == `true` && contains(recipient, 'isabelle.vance@corp-email.com') && contains(content, 'cancellation policy') && contains(content, 'confirmation number')] | length(@) >= `1`",
      "expected_value": true
    }
  ],
  "points": 2,
  "config": {}
}