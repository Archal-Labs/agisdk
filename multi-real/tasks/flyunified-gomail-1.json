{
  "id": "flyunified-gomail-1",
  "goal": "Find the cheapest one-way, non-stop flight from Seattle (SEA) to London (LHR) departing anytime in the first week of August. Email the flight details, including the price and flight number, to my travel agent at 'firstclass.travel@gomail.com' to get her opinion.",
  "websites": [
    {
      "id": "flyunified",
      "name": "FlyUnified",
      "similarTo": "United Airlines",
      "previewImage": "/websitePreviews/flyunified_preview.jpg",
      "url": "https://real-flyunified.vercel.app"
    },
    {
      "id": "gomail",
      "name": "GoMail",
      "similarTo": "Gmail",
      "previewImage": "/websitePreviews/gomail_preview.jpg",
      "url": "https://real-gomail.vercel.app"
    }
  ],
  "difficulty": "hard",
  "challengeType": "action",
  "possible": true,
  "evals": [
    {
      "description": "Verify that at least one flight was selected or added to a cart in flyunified, indicating a flight was found.",
      "type": "jmespath",
      "query": "length(flyunified.differences.selectedFlightCartIds) >= `1`",
      "expected_value": true
    },
    {
      "description": "Verify that an email was sent from gomail.",
      "type": "jmespath",
      "query": "length(gomail.differences.emails.added[?sent == `true`]) >= `1`",
      "expected_value": true
    },
    {
      "description": "Verify the sent email's recipient is the travel agent.",
      "type": "jmespath",
      "query": "contains(gomail.differences.emails.added[?sent == `true`][0].to[0] || '', 'firstclass.travel@gomail.com')",
      "expected_value": true
    },
    {
      "description": "Verify the sent email's content includes flight details like 'Price' and 'Flight Number'.",
      "type": "jmespath",
      "query": "contains(gomail.differences.emails.added[?sent == `true`][0].content, 'Price') && contains(gomail.differences.emails.added[?sent == `true`][0].content, 'Flight Number')",
      "expected_value": true
    }
  ],
  "points": 2,
  "config": {}
}
