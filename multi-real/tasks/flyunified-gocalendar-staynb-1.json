{
  "id": "flyunified-gocalendar-staynb-1",
  "goal": "My GoCalendar is blocked for a mandatory conference from March 8th to 12th. I want to plan a four day, three night international trip immediately following it, departing from IAD. The total combined cost for the round-trip flight on FlyUnified and a StayNB with a kitchen must be under $1500. Pick any major European city. Once you find a suitable combination, block out my calendar for 'Europe Trip' and add the confirmation number and StayNB booking link to the event notes.",
  "websites": [
    {
      "id": "flyunified",
      "name": "FlyUnified",
      "similarTo": "United Airlines",
      "previewImage": "/websitePreviews/flyunified_preview.jpg",
      "url": "https://real-flyunified.vercel.app"
    },
    {
      "id": "gocalendar",
      "name": "GoCalendar",
      "similarTo": "Google Calendar",
      "previewImage": "/websitePreviews/gocalendar_preview.jpg",
      "url": "https://real-gocalendar.vercel.app"
    },
    {
      "id": "staynb",
      "name": "StaynB",
      "similarTo": "Airbnb",
      "previewImage": "/websitePreviews/staynb_preview.jpg",
      "url": "https://real-staynb.vercel.app"
    }
  ],
  "difficulty": "hard",
  "challengeType": "action",
  "possible": true,
  "evals": [
    {
      "description": "Verify a round-trip flight was booked on FlyUnified departing from IAD to a European city, from March 13th to March 16th.",
      "type": "jmespath",
      "query": "length(values(flyunified.differences.bookedFlights.added)[?flight.outboundFlight.info.from.destination.code == 'IAD' && (flight.outboundFlight.info.to.destination.code == 'LHR' || flight.outboundFlight.info.to.destination.code == 'CDG' || flight.outboundFlight.info.to.destination.code == 'FCO' || flight.outboundFlight.info.to.destination.code == 'MAD' || flight.outboundFlight.info.to.destination.code == 'BER' || flight.outboundFlight.info.to.destination.code == 'AMS' || flight.outboundFlight.info.to.destination.code == 'DUB' || flight.outboundFlight.info.to.destination.code == 'LIS')]) >= `1`",
      "expected_value": true
    },
    {
      "description": "Verify a StayNB with a kitchen was booked for the same dates in the destination city.",
      "type": "jmespath",
      "query": "length(staynb.finalstate.booking.bookingDetails[?contains(checkin, '03-13') && contains(checkout, '03-16')]) >= `1`",
      "expected_value": true
    },
    {
      "description": "Verify a 'Europe Trip' event was added to the GoCalendar from March 13th to March 16th.",
      "type": "jmespath",
      "query": "gocalendar.differences.events.added.values(@)[?title=='Europe Trip' && start.date=='2024-03-13' && end.date=='2024-03-16']",
      "expected_value": true
    },
    {
      "description": "Verify the GoCalendar 'Europe Trip' event notes contain both a flight confirmation number and a StayNB booking link.",
      "type": "jmespath",
      "query": "gocalendar.differences.events.added.values(@)[?title=='Europe Trip' && contains(notes, 'Confirmation #') && contains(notes, 'StayNB Booking Link')]",
      "expected_value": true
    }
  ],
  "points": 2,
  "config": {}
}