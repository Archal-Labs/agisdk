{
  "id": "gocalendar-gomail-omnizon-3",
  "goal": "I see on my calendar that we have 'Onboard new designer' scheduled for next Monday. Let's get them a welcome gift. On Omnizon, find a wireless mouse and a floor mat with a combined cost below $80. Then, send an email to the new designer, leila.h@startupdesign.io, and CC hr-onboarding@startupdesign.io. The subject should be 'Welcome Gift!' and the body should say the items are on their way, including the product links. Finally, add a note to the 'Onboard new designer' calendar event that says 'Welcome gifts (mouse, desk mat) ordered.'",
  "websites": [
    {
      "id": "gocalendar",
      "name": "GoCalendar",
      "similarTo": "Google Calendar",
      "previewImage": "/websitePreviews/gocalendar_preview.jpg",
      "url": "https://real-gocalendar.vercel.app"
    },
    {
      "id": "gomail",
      "name": "GoMail",
      "similarTo": "Gmail",
      "previewImage": "/websitePreviews/gomail_preview.jpg",
      "url": "https://real-gomail.vercel.app"
    },
    {
      "id": "omnizon",
      "name": "Omnizon",
      "similarTo": "Amazon",
      "previewImage": "/websitePreviews/omnizon_preview.jpg",
      "url": "https://real-omnizon.vercel.app"
    }
  ],
  "difficulty": "hard",
  "challengeType": "action",
  "possible": true,
  "evals": [
    {
      "description": "Verify that an email was sent.",
      "type": "jmespath",
      "query": "length(gomail.differences.emails.added[?sent == `true`]) >= `1`",
      "expected_value": true
    },
    {
      "description": "Verify the email recipient, CC, and subject.",
      "type": "jmespath",
      "query": "gomail.differences.emails.added[?sent == `true`][0].recipient == 'leila.h@startupdesign.io' && contains(gomail.differences.emails.added[?sent == `true`][0].cc, 'hr-onboarding@startupdesign.io') && gomail.differences.emails.added[?sent == `true`][0].subject == 'Welcome Gift!'",
      "expected_value": true
    },
    {
      "description": "Verify the email body contains mention of items being on their way and product links.",
      "type": "jmespath",
      "query": "contains(gomail.differences.emails.added[?sent == `true`][0].content, 'on their way') && contains(gomail.differences.emails.added[?sent == `true`][0].content, 'http')",
      "expected_value": true
    },
    {
      "description": "Verify the 'Onboard new designer' calendar event's description was updated with the note about welcome gifts.",
      "type": "jmespath",
      "query": "contains(gocalendar.differences.events.added.values(@)[?title == 'Onboard new designer'][0].description, 'Welcome gifts (mouse, desk mat) ordered.')",
      "expected_value": true
    }
  ],
  "points": 2,
  "config": {}
}