{
  "id": "gomail-omnizon-1",
  "goal": "Our clinic needs more supplies. Find a '50-pack of KN95 face masks' on Omnizon sold by a vendor with at least a 4.5-star rating. Then, compose a formal email to our procurement head at procurement@healthclinic.org, CCing my own email address, stating that you've identified a potential supplier. Mention the product and the seller's name and ask them to inquire about pricing for a bulk order of 1,000 units. Do not send the email, just save it in drafts.",
  "websites": [
    {
      "id": "gomail",
      "name": "GoMail",
      "similarTo": "Gmail",
      "previewImage": "/websitePreviews/gomail_preview.jpg",
      "url": "https://real-gomail.vercel.app"
    },
    {
      "id": "omnizon",
      "name": "Omnizon",
      "similarTo": "Amazon",
      "previewImage": "/websitePreviews/omnizon_preview.jpg",
      "url": "https://real-omnizon.vercel.app"
    }
  ],
  "difficulty": "hard",
  "challengeType": "action",
  "possible": false,
  "evals": [
    {
      "description": "Verify that a search for 'KN95 face masks' was performed on Omnizon.",
      "type": "jmespath",
      "query": "length(omnizon.initialfinaldiff.added.searches) >= `1` && contains(omnizon.initialfinaldiff.added.searches.values(@)[0].query, 'KN95 face masks')",
      "expected_value": "TODO: Query error - In function length(), invalid type for value: None"
    },
    {
      "description": "Verify that an email has been drafted and saved in Gomail.",
      "type": "jmespath",
      "query": "length(gomail.differences.emails.added[?draft == `true`]) >= `1`",
      "expected_value": true
    },
    {
      "description": "Verify the drafted email's recipient and CC address are correctly set.",
      "type": "jmespath",
      "query": "contains(gomail.differences.emails.added[?draft == `true`][0].to[0], 'procurement@healthclinic.org') && contains(gomail.differences.emails.added[?draft == `true`][0].cc[0], 'my_email_address')",
      "expected_value": false
    },
    {
      "description": "Verify the drafted email's content mentions the product, seller, and request for a bulk order of 1,000 units.",
      "type": "jmespath",
      "query": "contains(gomail.differences.emails.added[?draft == `true`][0].content, '50-pack of KN95 face masks') && contains(gomail.differences.emails.added[?draft == `true`][0].content, 'seller') && contains(gomail.differences.emails.added[?draft == `true`][0].content, '1,000 units')",
      "expected_value": false
    }
  ],
  "points": 2,
  "config": {}
}