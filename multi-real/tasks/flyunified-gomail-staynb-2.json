{
  "id": "flyunified-gomail-staynb-2",
  "goal": "Please arrange travel for our client, Dr. Anya Sharma. Find a business class flight on FlyUnified from San Francisco (SFO) to Tokyo (NRT) arriving on or before March 10th next year and returning March 17th. Then, identify a different 5-star StaynB \"Luxe\" properties in the Osaka district available for March 10-17. Draft an email to 'anya.sharma@clientcorp.com' with the subject 'Travel Proposal: Tokyo Meeting', presenting the flight details and providing the links and nightly rates for the three lodging options for her review.",
  "websites": [
    {
      "id": "flyunified",
      "name": "FlyUnified",
      "similarTo": "United Airlines",
      "previewImage": "/websitePreviews/flyunified_preview.jpg",
      "url": "https://real-flyunified.vercel.app"
    },
    {
      "id": "gomail",
      "name": "GoMail",
      "similarTo": "Gmail",
      "previewImage": "/websitePreviews/gomail_preview.jpg",
      "url": "https://real-gomail.vercel.app"
    },
    {
      "id": "staynb",
      "name": "StaynB",
      "similarTo": "Airbnb",
      "previewImage": "/websitePreviews/staynb_preview.jpg",
      "url": "https://real-staynb.vercel.app"
    }
  ],
  "difficulty": "hard",
  "challengeType": "action",
  "possible": true,
  "evals": [
    {
      "description": "Verify a business class flight from SFO to NRT arriving on or before March 10th and returning March 17th next year was identified/booked on FlyUnified.",
      "type": "jmespath",
      "query": "length(flyunified.differences.bookedFlights.added) >= `1` && contains(flyunified.differences.bookedFlights.added[0].origin, 'SFO') && contains(flyunified.differences.bookedFlights.added[0].destination, 'NRT') && contains(flyunified.differences.bookedFlights.added[0].cabinClass, 'Business') && contains(flyunified.differences.bookedFlights.added[0].departureDate, '2025-03-17') && contains(flyunified.differences.bookedFlights.added[0].arrivalDate, '2025-03')",
      "expected_value": "TODO: Add expected value after checking /finish JSON"
    },
    {
      "description": "Verify an email was sent to anita.sharma@clientcorp.com with the subject 'Travel Proposal: Tokyo Meeting'.",
      "type": "jmespath",
      "query": "length(gomail.differences.emails.added[?sent == `true`]) >= `1` && contains(gomail.differences.emails.added[?sent == `true`][0].recipient, 'anya.sharma@clientcorp.com') && contains(gomail.differences.emails.added[?sent == `true`][0].subject, 'Travel Proposal: Tokyo Meeting')",
      "expected_value": "TODO: Add expected value after checking /finish JSON"
    },
    {
      "description": "Verify the email content includes details of the SFO to NRT business class flight.",
      "type": "jmespath",
      "query": "length(gomail.differences.emails.added[?sent == `true`]) >= `1` && contains(gomail.differences.emails.added[?sent == `true`][0].content, 'SFO to NRT') && contains(gomail.differences.emails.added[?sent == `true`][0].content, 'Business Class') && contains(gomail.differences.emails.added[?sent == `true`][0].content, 'March 10') && contains(gomail.differences.emails.added[?sent == `true`][0].content, 'March 17')",
      "expected_value": "TODO: Add expected value after checking /finish JSON"
    },
    {
      "description": "Verify the email content includes details for multiple 5-star StaynB 'Luxe' properties in the Osaka district with nightly rates.",
      "type": "jmespath",
      "query": "length(gomail.differences.emails.added[?sent == `true`]) >= `1` && contains(gomail.differences.emails.added[?sent == `true`][0].content, 'Osaka') && contains(gomail.differences.emails.added[?sent == `true`][0].content, '5-star') && contains(gomail.differences.emails.added[?sent == `true`][0].content, 'Luxe') && contains(gomail.differences.emails.added[?sent == `true`][0].content, 'nightly rates')",
      "expected_value": "TODO: Add expected value after checking /finish JSON"
    }
  ],
  "points": 2,
  "config": {}
}