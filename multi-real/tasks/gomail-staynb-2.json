{
  "id": "gomail-staynb-2",
  "goal": "Create a new StaynB wishlist called 'Canadian Rockies Trip'. Then, search for places in Banff, Canada and add the 'Tidal Getaway' property to this new list. Finally, share the entire wishlist with my friend Leo at leo.g@workplace.net.",
  "websites": [
    {
      "id": "gomail",
      "name": "GoMail",
      "similarTo": "Gmail",
      "previewImage": "/websitePreviews/gomail_preview.jpg",
      "url": "https://real-gomail.vercel.app"
    },
    {
      "id": "staynb",
      "name": "StaynB",
      "similarTo": "Airbnb",
      "previewImage": "/websitePreviews/staynb_preview.jpg",
      "url": "https://real-staynb.vercel.app"
    }
  ],
  "difficulty": "hard",
  "challengeType": "action",
  "possible": true,
  "evals": [
    {
      "description": "Verify a new StaynB wishlist named 'Canadian Rockies Trip' was created.",
      "type": "jmespath",
      "query": "length(values(staynb.initialfinaldiff.added.wishlist.wishlists || `{}`)[?name=='Canadian Rockies Trip']) >= `1`",
      "expected_value": true
    },
    {
      "description": "Verify the 'Tidal Getaway' property was added to the 'Canadian Rockies Trip' wishlist in StaynB.",
      "type": "jmespath",
      "query": "length(values(staynb.initialfinaldiff.added.wishlist.items || `{}`)[?propertyName=='Tidal Getaway' && wishlistName=='Canadian Rockies Trip']) >= `1`",
      "expected_value": true
    },
    {
      "description": "Verify an email was sent to Leo (leo.g@workplace.net) sharing the 'Canadian Rockies Trip' wishlist.",
      "type": "jmespath",
      "query": "length(gomail.differences.emails.added[?sent == `true` && contains(recipient, 'leo.g@workplace.net') && (contains(subject, 'Canadian Rockies Trip') || contains(content, 'Canadian Rockies Trip'))]) >= `1`",
      "expected_value": true
    }
  ],
  "points": 2,
  "config": {}
}